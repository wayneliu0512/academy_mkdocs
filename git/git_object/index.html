
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.4">
    
    
      
        <title>Git object - Academy</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bde7dde4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ef6f36e2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
      <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#plumbing-and-porcelain" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Academy" class="md-header__button md-logo" aria-label="Academy" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Academy
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Git object
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="" type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 10a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m10-3a5 5 0 0 1 5 5 5 5 0 0 1-5 5H7a5 5 0 0 1-5-5 5 5 0 0 1 5-5h10M7 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3h10a3 3 0 0 0 3-3 3 3 0 0 0-3-3H7z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent="" type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../agile_project_management/agile_development/" class="md-tabs__link">
        Agile Development
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../c%2B%2B/variables_types/" class="md-tabs__link">
        C++
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../getting_started/" class="md-tabs__link">
        Git
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../ood/solid/" class="md-tabs__link">
        Object Oriented Programming
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../design_pattern/strategy/" class="md-tabs__link">
        Others
      </a>
    </li>
  

  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Academy" class="md-nav__button md-logo" aria-label="Academy" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Academy
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Agile Development
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Agile Development" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Agile Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../agile_project_management/agile_development/" class="md-nav__link">
        Agile
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../agile_project_management/jira_project_management/" class="md-nav__link">
        Jira
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../agile_project_management/kanban/" class="md-nav__link">
        Kanban
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../agile_project_management/scrum/" class="md-nav__link">
        Scrum
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../agile_project_management/software_development/" class="md-nav__link">
        Software Development
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        C++
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="C++" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          C++
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/variables_types/" class="md-nav__link">
        Variables and Types
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/compound_type/" class="md-nav__link">
        Compound Type
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/class/" class="md-nav__link">
        Class
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/copy_control/" class="md-nav__link">
        Copy Control
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/object_oriented_programming/" class="md-nav__link">
        Object Oriented Programming
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/smart_pointer/" class="md-nav__link">
        Smart Pointer
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/template/" class="md-nav__link">
        Template
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/exception/" class="md-nav__link">
        Exception
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/effective_cpp/" class="md-nav__link">
        Effective C++
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/cpp11_feature/" class="md-nav__link">
        C++ 11 Feature
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Git
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Git" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Git
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../clone_recording_changes/" class="md-nav__link">
        Basic
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../branching_nutshell/" class="md-nav__link">
        Branching
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../branching_merging/" class="md-nav__link">
        Branching and Merging
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../branch_mang_remote/" class="md-nav__link">
        Branch Management
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../remote/" class="md-nav__link">
        Remote Branches
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../rebasing/" class="md-nav__link">
        Rebasing
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Object Oriented Programming
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Object Oriented Programming" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Object Oriented Programming
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../ood/solid/" class="md-nav__link">
        SOLID
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../ood/coupling_packages/" class="md-nav__link">
        Package Coupling
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../ood/package_cohesion/" class="md-nav__link">
        Package Cohesion
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Others
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Others" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Others
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_1" type="checkbox" id="__nav_6_1" >
      
      <label class="md-nav__link" for="__nav_6_1">
        Design Pattern
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Design Pattern" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_1">
          <span class="md-nav__icon md-icon"></span>
          Design Pattern
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../design_pattern/strategy/" class="md-nav__link">
        Strategy
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../design_pattern/command/" class="md-nav__link">
        Command
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../design_pattern/factory/" class="md-nav__link">
        Factory
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../design_pattern/decorator/" class="md-nav__link">
        Decorator
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../design_pattern/observer/" class="md-nav__link">
        Observer
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../design_pattern/singleton/" class="md-nav__link">
        Singleton
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_2" type="checkbox" id="__nav_6_2" >
      
      <label class="md-nav__link" for="__nav_6_2">
        Qt
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Qt" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          Qt
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../qt/model_view/" class="md-nav__link">
        Model View
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../qt/qt_threading_event/" class="md-nav__link">
        Threading and Event
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../ros/ros/" class="md-nav__link">
        ROS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../concurrency/concurrency/" class="md-nav__link">
        Concurrency
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#plumbing-and-porcelain" class="md-nav__link">
    Plumbing and Porcelain
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#git-objects" class="md-nav__link">
    Git Objects
  </a>
  
    <nav class="md-nav" aria-label="Git Objects">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tree-objects" class="md-nav__link">
    Tree Objects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#commit-objects" class="md-nav__link">
    Commit Objects
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#object-storage" class="md-nav__link">
    Object Storage
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Git object</h1>
                
                <h3 id="plumbing-and-porcelain">Plumbing and Porcelain</h3>
<p>This book covers how to use Git with 30 or so verbs such as <code>checkout</code>, <code>branch</code>, <code>remote</code>, and so on. But because Git was initially a toolkit for a VCS rather than a full user-friendly VCS, it has a bunch of verbs that do low-level work and were designed to be chained together UNIX style or called from scripts. These commands are generally referred to as “plumbing” commands, and the more user-friendly commands are called “porcelain” commands.</p>
<p>The book’s first nine chapters deal almost exclusively with porcelain commands. But in this chapter, you’ll be dealing mostly with the lower-level plumbing commands, because they give you access to the inner workings of Git, and help demonstrate how and why Git does what it does. </p>
<p>When you run git init in a new or existing directory, Git creates the <code>.git</code> directory, This entire chapter basically deals with the stuff in this directory. Here’s what it looks like:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ ls -F1
<span class="linenos" data-linenos="2 "></span>HEAD
<span class="linenos" data-linenos="3 "></span>config*
<span class="linenos" data-linenos="4 "></span>description
<span class="linenos" data-linenos="5 "></span>hooks/
<span class="linenos" data-linenos="6 "></span>info/
<span class="linenos" data-linenos="7 "></span>objects/
<span class="linenos" data-linenos="8 "></span>refs/
</code></pre></div>
<p>You may see some other files in there, but this is a fresh <code>git init</code> repository – it’s what you see by default. The <code>description</code> file is only used by the GitWeb program, so don’t worry about it. The <code>config</code> file contains your project-specific configuration options, and the <code>info</code> directory keeps a global exclude file for ignored patterns that you don’t want to track in a .gitignore file. The <code>hooks</code> directory contains your client- or server-side hook scripts, which are discussed in detail in Git Hooks.</p>
<p>This leaves four important entries: the <code>HEAD</code> and (yet to be created) <code>index</code> files, and the <code>objects</code> and <code>refs</code> directories. These are the core parts of Git. The <code>objects</code> directory stores all the content for your database, the <code>refs</code> directory stores pointers into commit objects in that data (branches), the <code>HEAD</code> file points to the branch you currently have checked out, and the <code>index</code> file is where Git stores your staging area information. You’ll now look at each of these sections in detail to see how Git operates.</p>
<h2 id="git-objects">Git Objects</h2>
<p>Git is a content-addressable filesystem. Great. What does that mean? It means that at the core of Git is a simple key-value data store. You can insert any kind of content into it, and it will give you back a key that you can use to retrieve the content again at any time. To demonstrate, you can use the plumbing command <code>hash-object</code>, which takes some data, stores it in your <code>.git</code> directory, and gives you back the key the data is stored as. First, you initialize a new Git repository and verify that there is nothing in the <code>objects</code> directory:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ git init test
<span class="linenos" data-linenos="2 "></span>Initialized empty Git repository in /tmp/test/.git/
<span class="linenos" data-linenos="3 "></span>$ cd test
<span class="linenos" data-linenos="4 "></span>$ find .git/objects
<span class="linenos" data-linenos="5 "></span>.git/objects
<span class="linenos" data-linenos="6 "></span>.git/objects/info
<span class="linenos" data-linenos="7 "></span>.git/objects/pack
<span class="linenos" data-linenos="8 "></span>$ find .git/objects -type f
</code></pre></div>
<p>Git has initialized the <code>objects</code> directory and created <code>pack</code> and <code>info</code> subdirectories in it, but there are no regular files. Now, store some text in your Git database:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ echo &#39;test content&#39; | git hash-object -w --stdin
<span class="linenos" data-linenos="2 "></span>d670460b4b4aece5915caf5c68d12f560a9fe3e4
</code></pre></div>
<p>The output from the command is a 40-character checksum hash. This is the SHA-1 hash – a checksum of the content you’re storing plus a header, which you’ll learn about in a bit. Now you can see how Git has stored your data:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ find .git/objects -type f
<span class="linenos" data-linenos="2 "></span>.git/objects/d6/70460b4b4aece5915caf5c68d12f560a9fe3e4
</code></pre></div>
<p>You can see a file in the <code>objects</code> directory. This is how Git stores the content initially – as a single file per piece of content, named with the SHA-1 checksum of the content and its header. The subdirectory is named with the first 2 characters of the SHA-1, and the filename is the remaining 38 characters.</p>
<p>You can pull the content back out of Git with the <code>cat-file</code> command. This command is sort of a Swiss army knife for inspecting Git objects. Passing <code>-p</code> to it instructs the <code>cat-file</code> command to figure out the type of content and display it nicely for you:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ git cat-file -p d670460b4b4aece5915caf5c68d12f560a9fe3e4
<span class="linenos" data-linenos="2 "></span>test content
</code></pre></div>
<p>Now, you can add content to Git and pull it back out again. You can also do this with content in files. For example, you can do some simple version control on a file. First, create a new file and save its contents in your database:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ echo &#39;version 1&#39; &gt; test.txt
<span class="linenos" data-linenos="2 "></span>$ git hash-object -w test.txt
<span class="linenos" data-linenos="3 "></span>83baae61804e65cc73a7201a7252750c76066a30
</code></pre></div>
<p>Then, write some new content to the file, and save it again:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ echo &#39;version 2&#39; &gt; test.txt
<span class="linenos" data-linenos="2 "></span>$ git hash-object -w test.txt
<span class="linenos" data-linenos="3 "></span>1f7a7a472abf3dd9643fd615f6da379c4acb3e3a
</code></pre></div>
<p>Your database contains the two new versions of the file as well as the first content you stored there:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ find .git/objects -type f
<span class="linenos" data-linenos="2 "></span>.git/objects/1f/7a7a472abf3dd9643fd615f6da379c4acb3e3a
<span class="linenos" data-linenos="3 "></span>.git/objects/83/baae61804e65cc73a7201a7252750c76066a30
<span class="linenos" data-linenos="4 "></span>.git/objects/d6/70460b4b4aece5915caf5c68d12f560a9fe3e4
</code></pre></div>
<p>Now you can revert the file back to the first version</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ git cat-file -p 83baae61804e65cc73a7201a7252750c76066a30 &gt; test.txt
<span class="linenos" data-linenos="2 "></span>$ cat test.txt
<span class="linenos" data-linenos="3 "></span>version 1
</code></pre></div>
<p>But remembering the SHA-1 key for each version of your file isn’t practical; plus, you aren’t storing the filename in your system – just the content. This object type is called a blob. You can have Git tell you the object type of any object in Git, given its SHA-1 key, with <code>cat-file -t</code>:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ git cat-file -t 1f7a7a472abf3dd9643fd615f6da379c4acb3e3a
<span class="linenos" data-linenos="2 "></span>blob
</code></pre></div>
<h3 id="tree-objects">Tree Objects</h3>
<p>The next type we’ll look at is the tree, which solves the problem of storing the filename and also allows you to store a group of files together. Git stores content in a manner similar to a UNIX filesystem, but a bit simplified. All the content is stored as tree and blob objects, with trees corresponding to UNIX directory entries and blobs corresponding more or less to inodes or file contents. A single tree object contains one or more tree entries, each of which contains a SHA-1 pointer to a blob or subtree with its associated mode, type, and filename. For example, the most recent tree in a project may look something like this:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ git cat-file -p master^{tree}
<span class="linenos" data-linenos="2 "></span>100644 blob a906cb2a4a904a152e80877d4088654daad0c859      README
<span class="linenos" data-linenos="3 "></span>100644 blob 8f94139338f9404f26296befa88755fc2598c289      Rakefile
<span class="linenos" data-linenos="4 "></span>040000 tree 99f1a6d12cb4b6f19c8655fca46c3ecf317074e0      lib
</code></pre></div>
<p>The <code>master^{tree}</code> syntax specifies the tree object that is pointed to by the last commit on your <code>master</code> branch. Notice that the <code>lib</code> subdirectory isn’t a blob but a pointer to another tree:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ git cat-file -p 99f1a6d12cb4b6f19c8655fca46c3ecf317074e0
<span class="linenos" data-linenos="2 "></span>100644 blob 47c6340d6459e05787f644c2447d2595f5d3a54b      simplegit.rb
</code></pre></div>
<p>Conceptually, the data that Git is storing is something like this:</p>
<p><img alt="10_2_1" src="../images/10_2_1.PNG" /></p>
<h3 id="commit-objects">Commit Objects</h3>
<p>You have three trees that specify the different snapshots of your project that you want to track, but the earlier problem remains: you must remember all three SHA-1 values in order to recall the snapshots. You also don’t have any information about who saved the snapshots, when they were saved, or why they were saved. This is the basic information that the commit object stores for you.</p>
<p>To create a commit object, you call <code>commit-tree</code> and specify a single tree SHA-1 and which commit objects, if any, directly preceded it. Start with the first tree you wrote:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ echo &#39;first commit&#39; | git commit-tree d8329f
<span class="linenos" data-linenos="2 "></span>fdf4fc3344e67ab068f836878b6c4951e3b15f3d
</code></pre></div>
<p>You will get a different hash value because of different creation time and author data. Replace commit and tag hashes with your own checksums further in this chapter. Now you can look at your new commit object with <code>cat-file</code>:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ git cat-file -p fdf4fc3
<span class="linenos" data-linenos="2 "></span>tree d8329fc1cc938780ffdd9f94e0d364e0ea74f579
<span class="linenos" data-linenos="3 "></span>author Scott Chacon &lt;schacon@gmail.com&gt; 1243040974 -0700
<span class="linenos" data-linenos="4 "></span>committer Scott Chacon &lt;schacon@gmail.com&gt; 1243040974 -0700
<span class="linenos" data-linenos="5 "></span>
<span class="linenos" data-linenos="6 "></span>first commit
</code></pre></div>
<p>The format for a commit object is simple: it specifies the top-level tree for the snapshot of the project at that point; the author/committer information (which uses your <code>user.name</code> and <code>user.email</code> configuration settings and a timestamp); a blank line, and then the commit message. </p>
<p>Next, you’ll write the other two commit objects, each referencing the commit that came directly before it:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ echo &#39;second commit&#39; | git commit-tree 0155eb -p fdf4fc3
<span class="linenos" data-linenos="2 "></span>cac0cab538b970a37ea1e769cbbde608743bc96d
<span class="linenos" data-linenos="3 "></span>$ echo &#39;third commit&#39;  | git commit-tree 3c4e9c -p cac0cab
<span class="linenos" data-linenos="4 "></span>1a410efbd13591db07496601ebc7a059dd55cfe9
</code></pre></div>
<p>Each of the three commit objects points to one of the three snapshot trees you created. Oddly enough, you have a real Git history now that you can view with the git log command, if you run it on the last commit SHA-1:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span>$ git log --stat 1a410e
<span class="linenos" data-linenos=" 2 "></span>commit 1a410efbd13591db07496601ebc7a059dd55cfe9
<span class="linenos" data-linenos=" 3 "></span>Author: Scott Chacon &lt;schacon@gmail.com&gt;
<span class="linenos" data-linenos=" 4 "></span>Date:   Fri May 22 18:15:24 2009 -0700
<span class="linenos" data-linenos=" 5 "></span>
<span class="linenos" data-linenos=" 6 "></span>    third commit
<span class="linenos" data-linenos=" 7 "></span>
<span class="linenos" data-linenos=" 8 "></span> bak/test.txt | 1 +
<span class="linenos" data-linenos=" 9 "></span> 1 file changed, 1 insertion(+)
<span class="linenos" data-linenos="10 "></span>
<span class="linenos" data-linenos="11 "></span>commit cac0cab538b970a37ea1e769cbbde608743bc96d
<span class="linenos" data-linenos="12 "></span>Author: Scott Chacon &lt;schacon@gmail.com&gt;
<span class="linenos" data-linenos="13 "></span>Date:   Fri May 22 18:14:29 2009 -0700
<span class="linenos" data-linenos="14 "></span>
<span class="linenos" data-linenos="15 "></span>    second commit
<span class="linenos" data-linenos="16 "></span>
<span class="linenos" data-linenos="17 "></span> new.txt  | 1 +
<span class="linenos" data-linenos="18 "></span> test.txt | 2 +-
<span class="linenos" data-linenos="19 "></span> 2 files changed, 2 insertions(+), 1 deletion(-)
<span class="linenos" data-linenos="20 "></span>
<span class="linenos" data-linenos="21 "></span>commit fdf4fc3344e67ab068f836878b6c4951e3b15f3d
<span class="linenos" data-linenos="22 "></span>Author: Scott Chacon &lt;schacon@gmail.com&gt;
<span class="linenos" data-linenos="23 "></span>Date:   Fri May 22 18:09:34 2009 -0700
<span class="linenos" data-linenos="24 "></span>
<span class="linenos" data-linenos="25 "></span>    first commit
<span class="linenos" data-linenos="26 "></span>
<span class="linenos" data-linenos="27 "></span> test.txt | 1 +
<span class="linenos" data-linenos="28 "></span> 1 file changed, 1 insertion(+)
</code></pre></div>
<p>Amazing. You’ve just done the low-level operations to build up a Git history without using any of the front end commands. This is essentially what Git does when you run the <code>git add</code> and <code>git commit</code> commands – it stores blobs for the files that have changed, updates the index, writes out trees, and writes commit objects that reference the top-level trees and the commits that came immediately before them. These three main Git objects – the blob, the tree, and the commit – are initially stored as separate files in your <code>.git/objects</code> directory. Here are all the objects in the example directory now, commented with what they store:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span>$ find .git/objects -type f
<span class="linenos" data-linenos=" 2 "></span>.git/objects/01/55eb4229851634a0f03eb265b69f5a2d56f341 # tree 2
<span class="linenos" data-linenos=" 3 "></span>.git/objects/1a/410efbd13591db07496601ebc7a059dd55cfe9 # commit 3
<span class="linenos" data-linenos=" 4 "></span>.git/objects/1f/7a7a472abf3dd9643fd615f6da379c4acb3e3a # test.txt v2
<span class="linenos" data-linenos=" 5 "></span>.git/objects/3c/4e9cd789d88d8d89c1073707c3585e41b0e614 # tree 3
<span class="linenos" data-linenos=" 6 "></span>.git/objects/83/baae61804e65cc73a7201a7252750c76066a30 # test.txt v1
<span class="linenos" data-linenos=" 7 "></span>.git/objects/ca/c0cab538b970a37ea1e769cbbde608743bc96d # commit 2
<span class="linenos" data-linenos=" 8 "></span>.git/objects/d6/70460b4b4aece5915caf5c68d12f560a9fe3e4 # &#39;test content&#39;
<span class="linenos" data-linenos=" 9 "></span>.git/objects/d8/329fc1cc938780ffdd9f94e0d364e0ea74f579 # tree 1
<span class="linenos" data-linenos="10 "></span>.git/objects/fa/49b077972391ad58037050f2a75f74e3671e92 # new.txt
<span class="linenos" data-linenos="11 "></span>.git/objects/fd/f4fc3344e67ab068f836878b6c4951e3b15f3d # commit 1
</code></pre></div>
<p>If you follow all the internal pointers, you get an object graph something like this:</p>
<p><img alt="10_2_2" src="../images/10_2_2.PNG" /></p>
<h3 id="object-storage">Object Storage</h3>
<p>We mentioned earlier that a header is stored with the content. Let’s take a minute to look at how Git stores its objects. You’ll see how to store a blob object – in this case, the string “what is up, doc?” – interactively in the Ruby scripting language.</p>
<p>You can start up interactive Ruby mode with the <code>irb</code> command:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ irb
<span class="linenos" data-linenos="2 "></span>&gt;&gt; content = &quot;what is up, doc?&quot;
<span class="linenos" data-linenos="3 "></span>=&gt; &quot;what is up, doc?&quot;
</code></pre></div>
<p>Git constructs a header that starts with the type of the object, in this case a blob. Then, it adds a space followed by the size of the content and finally a null byte:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>&gt;&gt; header = &quot;blob #{content.length}\0&quot;
<span class="linenos" data-linenos="2 "></span>=&gt; &quot;blob 16\u0000&quot;
</code></pre></div>
<p>Git concatenates the header and the original content and then calculates the SHA-1 checksum of that new content. You can calculate the SHA-1 value of a string in Ruby by including the SHA1 digest library with the <code>require</code> command and then calling <code>Digest::SHA1.hexdigest()</code> with the string:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>&gt;&gt; store = header + content
<span class="linenos" data-linenos="2 "></span>=&gt; &quot;blob 16\u0000what is up, doc?&quot;
<span class="linenos" data-linenos="3 "></span>&gt;&gt; require &#39;digest/sha1&#39;
<span class="linenos" data-linenos="4 "></span>=&gt; true
<span class="linenos" data-linenos="5 "></span>&gt;&gt; sha1 = Digest::SHA1.hexdigest(store)
<span class="linenos" data-linenos="6 "></span>=&gt; &quot;bd9dbf5aae1a3862dd1526723246b20206e5fc37&quot;
</code></pre></div>
<p>Git compresses the new content with zlib, which you can do in Ruby with the zlib library. First, you need to require the library and then run <code>Zlib::Deflate.deflate()</code> on the content:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>&gt;&gt; require &#39;zlib&#39;
<span class="linenos" data-linenos="2 "></span>=&gt; true
<span class="linenos" data-linenos="3 "></span>&gt;&gt; zlib_content = Zlib::Deflate.deflate(store)
<span class="linenos" data-linenos="4 "></span>=&gt; &quot;x\x9CK\xCA\xC9OR04c(\xCFH,Q\xC8,V(-\xD0QH\xC9O\xB6\a\x00_\x1C\a\x9D&quot;
</code></pre></div>
<p>Finally, you’ll write your zlib-deflated content to an object on disk. You’ll determine the path of the object you want to write out (the first two characters of the SHA-1 value being the subdirectory name, and the last 38 characters being the filename within that directory). In Ruby, you can use the <code>FileUtils.mkdir_p()</code> function to create the subdirectory if it doesn’t exist. Then, open the file with <code>File.open()</code> and write out the previously zlib-compressed content to the file with a <code>write()</code> call on the resulting file handle:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>&gt;&gt; path = &#39;.git/objects/&#39; + sha1[0,2] + &#39;/&#39; + sha1[2,38]
<span class="linenos" data-linenos="2 "></span>=&gt; &quot;.git/objects/bd/9dbf5aae1a3862dd1526723246b20206e5fc37&quot;
<span class="linenos" data-linenos="3 "></span>&gt;&gt; require &#39;fileutils&#39;
<span class="linenos" data-linenos="4 "></span>=&gt; true
<span class="linenos" data-linenos="5 "></span>&gt;&gt; FileUtils.mkdir_p(File.dirname(path))
<span class="linenos" data-linenos="6 "></span>=&gt; &quot;.git/objects/bd&quot;
<span class="linenos" data-linenos="7 "></span>&gt;&gt; File.open(path, &#39;w&#39;) { |f| f.write zlib_content }
<span class="linenos" data-linenos="8 "></span>=&gt; 32
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" title="Back to top" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.top"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.4fa0e4ee.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.1d3bfcf1.min.js"></script>
      
    
  </body>
</html>