
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.5">
    
    
      
        <title>Git maintain data recovery - Allxon</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bde7dde4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ef6f36e2.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="allxon" data-md-color-accent="light-blue">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
      <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#maintenance-and-data-recovery" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Allxon" class="md-header__button md-logo" aria-label="Allxon" data-md-component="logo">
      
  <img src="../../images/windows_icon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Allxon
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Git maintain data recovery
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="allxon" data-md-color-accent="light-blue" type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 10a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m10-3a5 5 0 0 1 5 5 5 5 0 0 1-5 5H7a5 5 0 0 1-5-5 5 5 0 0 1 5-5h10M7 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3h10a3 3 0 0 0 3-3 3 3 0 0 0-3-3H7z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="allxon" data-md-color-accent="light-blue" type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/wayneliu0512/academy_mkdocs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    wayneliu0512/academy_mkdocs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../agile_project_management/agile_development/" class="md-tabs__link">
        Agile Development
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../c%2B%2B/variables_types/" class="md-tabs__link">
        C++
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../getting_started/" class="md-tabs__link">
        Git
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../ood/solid/" class="md-tabs__link">
        Object Oriented Programming
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../design_pattern/strategy/" class="md-tabs__link">
        Others
      </a>
    </li>
  

  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Allxon" class="md-nav__button md-logo" aria-label="Allxon" data-md-component="logo">
      
  <img src="../../images/windows_icon.png" alt="logo">

    </a>
    Allxon
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/wayneliu0512/academy_mkdocs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    wayneliu0512/academy_mkdocs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      <label class="md-nav__link" for="__nav_2">
        Agile Development
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Agile Development" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Agile Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../agile_project_management/agile_development/" class="md-nav__link">
        Agile
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../agile_project_management/jira_project_management/" class="md-nav__link">
        Jira
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../agile_project_management/kanban/" class="md-nav__link">
        Kanban
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../agile_project_management/scrum/" class="md-nav__link">
        Scrum
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../agile_project_management/software_development/" class="md-nav__link">
        Software Development
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        C++
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="C++" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          C++
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/variables_types/" class="md-nav__link">
        Variables and Types
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/compound_type/" class="md-nav__link">
        Compound Type
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/class/" class="md-nav__link">
        Class
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/copy_control/" class="md-nav__link">
        Copy Control
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/object_oriented_programming/" class="md-nav__link">
        Object Oriented Programming
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/smart_pointer/" class="md-nav__link">
        Smart Pointer
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/template/" class="md-nav__link">
        Template
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/exception/" class="md-nav__link">
        Exception
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/effective_cpp/" class="md-nav__link">
        Effective C++
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../c%2B%2B/cpp11_feature/" class="md-nav__link">
        C++ 11 Feature
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Git
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Git" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Git
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../clone_recording_changes/" class="md-nav__link">
        Basic
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../branching_nutshell/" class="md-nav__link">
        Branching
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../branching_merging/" class="md-nav__link">
        Branching and Merging
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../branch_mang_remote/" class="md-nav__link">
        Branch Management
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../remote/" class="md-nav__link">
        Remote Branches
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../rebasing/" class="md-nav__link">
        Rebasing
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Object Oriented Programming
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Object Oriented Programming" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Object Oriented Programming
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../ood/solid/" class="md-nav__link">
        SOLID
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../ood/coupling_packages/" class="md-nav__link">
        Package Coupling
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../ood/package_cohesion/" class="md-nav__link">
        Package Cohesion
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Others
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Others" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Others
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_1" type="checkbox" id="__nav_6_1" >
      
      <label class="md-nav__link" for="__nav_6_1">
        Design Pattern
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Design Pattern" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_1">
          <span class="md-nav__icon md-icon"></span>
          Design Pattern
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../design_pattern/strategy/" class="md-nav__link">
        Strategy
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../design_pattern/command/" class="md-nav__link">
        Command
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../design_pattern/factory/" class="md-nav__link">
        Factory
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../design_pattern/decorator/" class="md-nav__link">
        Decorator
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../design_pattern/observer/" class="md-nav__link">
        Observer
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../design_pattern/singleton/" class="md-nav__link">
        Singleton
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_2" type="checkbox" id="__nav_6_2" >
      
      <label class="md-nav__link" for="__nav_6_2">
        Qt
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Qt" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_2">
          <span class="md-nav__icon md-icon"></span>
          Qt
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../qt/model_view/" class="md-nav__link">
        Model View
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../qt/qt_threading_event/" class="md-nav__link">
        Threading and Event
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../ros/ros/" class="md-nav__link">
        ROS
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../concurrency/concurrency/" class="md-nav__link">
        Concurrency
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../google_mock/" class="md-nav__link">
        Google Mock
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#maintenance-and-data-recovery" class="md-nav__link">
    Maintenance and Data Recovery
  </a>
  
    <nav class="md-nav" aria-label="Maintenance and Data Recovery">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maintenance" class="md-nav__link">
    Maintenance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-recovery" class="md-nav__link">
    Data Recovery
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removing-object" class="md-nav__link">
    Removing Object
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/wayneliu0512/academy_mkdocs/edit/master/docs/git/git_maintain_data_recovery.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  <h1>Git maintain data recovery</h1>
                
                <h2 id="maintenance-and-data-recovery">Maintenance and Data Recovery</h2>
<p>Occasionally, you may have to do some cleanup – make a repository more compact, clean up an imported repository, or recover lost work. This section will cover some of these scenarios.</p>
<h3 id="maintenance">Maintenance</h3>
<p>Occasionally, Git automatically runs a command called “auto gc”. Most of the time, this command does nothing. However, if there are too many loose objects (objects not in a packfile) or too many packfiles, Git launches a full-fledged <code>git gc</code> command. The “gc” stands for garbage collect, and the command does a number of things: it gathers up all the loose objects and places them in packfiles, it consolidates packfiles into one big packfile, and it removes objects that aren’t reachable from any commit and are a few months old.</p>
<p>You can run auto gc manually as follows:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ git gc --auto
</code></pre></div>
<p>Again, this generally does nothing. You must have around 7,000 loose objects or more than 50 packfiles for Git to fire up a real gc command. You can modify these limits with the <code>gc.auto</code> and <code>gc.autopacklimit</code> config settings, respectively.</p>
<p>The other thing <code>gc</code> will do is pack up your references into a single file. Suppose your repository contains the following branches and tags:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ find .git/refs -type f
<span class="linenos" data-linenos="2 "></span>.git/refs/heads/experiment
<span class="linenos" data-linenos="3 "></span>.git/refs/heads/master
<span class="linenos" data-linenos="4 "></span>.git/refs/tags/v1.0
<span class="linenos" data-linenos="5 "></span>.git/refs/tags/v1.1
</code></pre></div>
<p>If you run <code>git gc</code>, you’ll no longer have these files in the <code>refs</code> directory. Git will move them for the sake of efficiency into a file named <code>.git/packed-refs</code> that looks like this:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ cat .git/packed-refs
<span class="linenos" data-linenos="2 "></span># pack-refs with: peeled fully-peeled
<span class="linenos" data-linenos="3 "></span>cac0cab538b970a37ea1e769cbbde608743bc96d refs/heads/experiment
<span class="linenos" data-linenos="4 "></span>ab1afef80fac8e34258ff41fc1b867c702daa24b refs/heads/master
<span class="linenos" data-linenos="5 "></span>cac0cab538b970a37ea1e769cbbde608743bc96d refs/tags/v1.0
<span class="linenos" data-linenos="6 "></span>9585191f37f7b0fb9444f35a9bf50de191beadc2 refs/tags/v1.1
<span class="linenos" data-linenos="7 "></span>^1a410efbd13591db07496601ebc7a059dd55cfe9
</code></pre></div>
<p>If you update a reference, Git doesn’t edit this file but instead writes a new file to <code>refs/heads</code>. To get the appropriate SHA-1 for a given reference, Git checks for that reference in the <code>refs</code> directory and then checks the <code>packed-refs</code> file as a fallback. However, if you can’t find a reference in the <code>refs</code> directory, it’s probably in your <code>packed-refs</code> file.</p>
<p>Notice the last line of the file, which begins with a <code>^</code>. This means the tag directly above is an annotated tag and that line is the commit that the annotated tag points to.</p>
<h3 id="data-recovery">Data Recovery</h3>
<p>At some point in your Git journey, you may accidentally lose a commit. Generally, this happens because you force-delete a branch that had work on it, and it turns out you wanted the branch after all; or you hard-reset a branch, thus abandoning commits that you wanted something from. Assuming this happens, how can you get your commits back?</p>
<p>Here’s an example that hard-resets the master branch in your test repository to an older commit and then recovers the lost commits. First, let’s review where your repository is at this point:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ git log --pretty=oneline
<span class="linenos" data-linenos="2 "></span>ab1afef80fac8e34258ff41fc1b867c702daa24b modified repo a bit
<span class="linenos" data-linenos="3 "></span>484a59275031909e19aadb7c92262719cfcdf19a added repo.rb
<span class="linenos" data-linenos="4 "></span>1a410efbd13591db07496601ebc7a059dd55cfe9 third commit
<span class="linenos" data-linenos="5 "></span>cac0cab538b970a37ea1e769cbbde608743bc96d second commit
<span class="linenos" data-linenos="6 "></span>fdf4fc3344e67ab068f836878b6c4951e3b15f3d first commit
</code></pre></div>
<p>Now, move the <code>master</code> branch back to the middle commit:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ git reset --hard 1a410efbd13591db07496601ebc7a059dd55cfe9
<span class="linenos" data-linenos="2 "></span>HEAD is now at 1a410ef third commit
<span class="linenos" data-linenos="3 "></span>$ git log --pretty=oneline
<span class="linenos" data-linenos="4 "></span>1a410efbd13591db07496601ebc7a059dd55cfe9 third commit
<span class="linenos" data-linenos="5 "></span>cac0cab538b970a37ea1e769cbbde608743bc96d second commit
<span class="linenos" data-linenos="6 "></span>fdf4fc3344e67ab068f836878b6c4951e3b15f3d first commit
</code></pre></div>
<p>You’ve effectively lost the top two commits – you have no branch from which those commits are reachable. You need to find the latest commit SHA-1 and then add a branch that points to it. The trick is finding that latest commit SHA-1 – it’s not like you’ve memorized it, right?</p>
<p>Often, the quickest way is to use a tool called <code>git reflog</code>. As you’re working, Git silently records what your HEAD is every time you change it. Each time you commit or change branches, the reflog is updated. The reflog is also updated by the <code>git update-ref</code> command, which is another reason to use it instead of just writing the SHA-1 value to your ref files, as we covered in Git References. You can see where you’ve been at any time by running <code>git reflog</code>:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ git reflog
<span class="linenos" data-linenos="2 "></span>1a410ef HEAD@{0}: reset: moving to 1a410ef
<span class="linenos" data-linenos="3 "></span>ab1afef HEAD@{1}: commit: modified repo.rb a bit
<span class="linenos" data-linenos="4 "></span>484a592 HEAD@{2}: commit: added repo.rb
</code></pre></div>
<p>Here we can see the two commits that we have had checked out, however there is not much information here. To see the same information in a much more useful way, we can run <code>git log -g</code>, which will give you a normal log output for your reflog.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span>$ git log -g
<span class="linenos" data-linenos=" 2 "></span>commit 1a410efbd13591db07496601ebc7a059dd55cfe9
<span class="linenos" data-linenos=" 3 "></span>Reflog: HEAD@{0} (Scott Chacon &lt;schacon@gmail.com&gt;)
<span class="linenos" data-linenos=" 4 "></span>Reflog message: updating HEAD
<span class="linenos" data-linenos=" 5 "></span>Author: Scott Chacon &lt;schacon@gmail.com&gt;
<span class="linenos" data-linenos=" 6 "></span>Date:   Fri May 22 18:22:37 2009 -0700
<span class="linenos" data-linenos=" 7 "></span>
<span class="linenos" data-linenos=" 8 "></span>        third commit
<span class="linenos" data-linenos=" 9 "></span>
<span class="linenos" data-linenos="10 "></span>commit ab1afef80fac8e34258ff41fc1b867c702daa24b
<span class="linenos" data-linenos="11 "></span>Reflog: HEAD@{1} (Scott Chacon &lt;schacon@gmail.com&gt;)
<span class="linenos" data-linenos="12 "></span>Reflog message: updating HEAD
<span class="linenos" data-linenos="13 "></span>Author: Scott Chacon &lt;schacon@gmail.com&gt;
<span class="linenos" data-linenos="14 "></span>Date:   Fri May 22 18:15:24 2009 -0700
<span class="linenos" data-linenos="15 "></span>
<span class="linenos" data-linenos="16 "></span>       modified repo.rb a bit
</code></pre></div>
<p>It looks like the bottom commit is the one you lost, so you can recover it by creating a new branch at that commit. For example, you can start a branch named <code>recover-branch</code> at that commit (ab1afef):</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ git branch recover-branch ab1afef
<span class="linenos" data-linenos="2 "></span>$ git log --pretty=oneline recover-branch
<span class="linenos" data-linenos="3 "></span>ab1afef80fac8e34258ff41fc1b867c702daa24b modified repo a bit
<span class="linenos" data-linenos="4 "></span>484a59275031909e19aadb7c92262719cfcdf19a added repo.rb
<span class="linenos" data-linenos="5 "></span>1a410efbd13591db07496601ebc7a059dd55cfe9 third commit
<span class="linenos" data-linenos="6 "></span>cac0cab538b970a37ea1e769cbbde608743bc96d second commit
<span class="linenos" data-linenos="7 "></span>fdf4fc3344e67ab068f836878b6c4951e3b15f3d first commit
</code></pre></div>
<p>Cool – now you have a branch named <code>recover-branch</code> that is where your <code>master</code> branch used to be, making the first two commits reachable again. Next, suppose your loss was for some reason not in the reflog – you can simulate that by removing <code>recover-branch</code> and deleting the reflog. Now the first two commits aren’t reachable by anything:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ git branch -D recover-branch
<span class="linenos" data-linenos="2 "></span>$ rm -Rf .git/logs/
</code></pre></div>
<p>Because the reflog data is kept in the <code>.git/logs/</code> directory, you effectively have no reflog. How can you recover that commit at this point? One way is to use the <code>git fsck</code> utility, which checks your database for integrity. If you run it with the <code>--full</code> option, it shows you all objects that aren’t pointed to by another object:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ git fsck --full
<span class="linenos" data-linenos="2 "></span>Checking object directories: 100% (256/256), done.
<span class="linenos" data-linenos="3 "></span>Checking objects: 100% (18/18), done.
<span class="linenos" data-linenos="4 "></span>dangling blob d670460b4b4aece5915caf5c68d12f560a9fe3e4
<span class="linenos" data-linenos="5 "></span>dangling commit ab1afef80fac8e34258ff41fc1b867c702daa24b
<span class="linenos" data-linenos="6 "></span>dangling tree aea790b9a58f6cf6f2804eeac9f0abbe9631e4c9
<span class="linenos" data-linenos="7 "></span>dangling blob 7108f7ecb345ee9d0084193f147cdad4d2998293
</code></pre></div>
<p>In this case, you can see your missing commit after the string “dangling commit”. You can recover it the same way, by adding a branch that points to that SHA-1.</p>
<h3 id="removing-object">Removing Object</h3>
<p>There are a lot of great things about Git, but one feature that can cause issues is the fact that a <code>git clone</code> downloads the entire history of the project, including every version of every file. This is fine if the whole thing is source code, because Git is highly optimized to compress that data efficiently. However, if someone at any point in the history of your project added a single huge file, every clone for all time will be forced to download that large file, even if it was removed from the project in the very next commit. Because it’s reachable from the history, it will always be there.</p>
<p>This can be a huge problem when you’re converting Subversion or Perforce repositories into Git. Because you don’t download the whole history in those systems, this type of addition carries few consequences. If you did an import from another system or otherwise find that your repository is much larger than it should be, here is how you can find and remove large objects.</p>
<p><strong>Be warned: this technique is destructive to your commit history.</strong>It rewrites every commit object since the earliest tree you have to modify to remove a large file reference. If you do this immediately after an import, before anyone has started to base work on the commit, you’re fine – otherwise, you have to notify all contributors that they must rebase their work onto your new commits.</p>
<p>To demonstrate, you’ll add a large file into your test repository, remove it in the next commit, find it, and remove it permanently from the repository. First, add a large object to your history:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ curl https://www.kernel.org/pub/software/scm/git/git-2.1.0.tar.gz &gt; git.tgz
<span class="linenos" data-linenos="2 "></span>$ git add git.tgz
<span class="linenos" data-linenos="3 "></span>$ git commit -m &#39;add git tarball&#39;
<span class="linenos" data-linenos="4 "></span>[master 7b30847] add git tarball
<span class="linenos" data-linenos="5 "></span> 1 file changed, 0 insertions(+), 0 deletions(-)
<span class="linenos" data-linenos="6 "></span> create mode 100644 git.tgz
</code></pre></div>
<p>Oops – you didn’t want to add a huge tarball to your project. Better get rid of it:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ git rm git.tgz
<span class="linenos" data-linenos="2 "></span>rm &#39;git.tgz&#39;
<span class="linenos" data-linenos="3 "></span>$ git commit -m &#39;oops - removed large tarball&#39;
<span class="linenos" data-linenos="4 "></span>[master dadf725] oops - removed large tarball
<span class="linenos" data-linenos="5 "></span> 1 file changed, 0 insertions(+), 0 deletions(-)
<span class="linenos" data-linenos="6 "></span> delete mode 100644 git.tgz
</code></pre></div>
<p>Now, <code>gc</code> your database and see how much space you’re using:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ git gc
<span class="linenos" data-linenos="2 "></span>Counting objects: 17, done.
<span class="linenos" data-linenos="3 "></span>Delta compression using up to 8 threads.
<span class="linenos" data-linenos="4 "></span>Compressing objects: 100% (13/13), done.
<span class="linenos" data-linenos="5 "></span>Writing objects: 100% (17/17), done.
<span class="linenos" data-linenos="6 "></span>Total 17 (delta 1), reused 10 (delta 0)
</code></pre></div>
<p>You can run the <code>count-objects</code> command to quickly see how much space you’re using:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ git count-objects -v
<span class="linenos" data-linenos="2 "></span>count: 7
<span class="linenos" data-linenos="3 "></span>size: 32
<span class="linenos" data-linenos="4 "></span>in-pack: 17
<span class="linenos" data-linenos="5 "></span>packs: 1
<span class="linenos" data-linenos="6 "></span>size-pack: 4868
<span class="linenos" data-linenos="7 "></span>prune-packable: 0
<span class="linenos" data-linenos="8 "></span>garbage: 0
<span class="linenos" data-linenos="9 "></span>size-garbage: 0
</code></pre></div>
<p>The <code>size-pack</code> entry is the size of your packfiles in kilobytes, so you’re using almost 5MB. Before the last commit, you were using closer to 2K – clearly, removing the file from the previous commit didn’t remove it from your history. Every time anyone clones this repository, they will have to clone all 5MB just to get this tiny project, because you accidentally added a big file. Let’s get rid of it.</p>
<p>First you have to find it. In this case, you already know what file it is. But suppose you didn’t; how would you identify what file or files were taking up so much space? If you run <code>git gc</code>, all the objects are in a packfile; you can identify the big objects by running another plumbing command called <code>git verify-pack</code> and sorting on the third field in the output, which is file size. You can also pipe it through the <code>tail</code> command because you’re only interested in the last few largest files:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ git verify-pack -v .git/objects/pack/pack-29…69.idx \
<span class="linenos" data-linenos="2 "></span>  | sort -k 3 -n \
<span class="linenos" data-linenos="3 "></span>  | tail -3
<span class="linenos" data-linenos="4 "></span>dadf7258d699da2c8d89b09ef6670edb7d5f91b4 commit 229 159 12
<span class="linenos" data-linenos="5 "></span>033b4468fa6b2a9547a70d88d1bbe8bf3f9ed0d5 blob   22044 5792 4977696
<span class="linenos" data-linenos="6 "></span>82c99a3e86bb1267b236a4b6eff7868d97489af1 blob   4975916 4976258 1438
</code></pre></div>
<p>The big object is at the bottom: 5MB. To find out what file it is, you’ll use the <code>rev-list</code> command, which you used briefly in Enforcing a Specific Commit-Message Format. If you pass <code>--objects</code> to <code>rev-list</code>, it lists all the commit SHA-1s and also the blob SHA-1s with the file paths associated with them. You can use this to find your blob’s name:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ git rev-list --objects --all | grep 82c99a3
<span class="linenos" data-linenos="2 "></span>82c99a3e86bb1267b236a4b6eff7868d97489af1 git.tgz
</code></pre></div>
<p>Now, you need to remove this file from all trees in your past. You can easily see what commits modified this file:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ git log --oneline --branches -- git.tgz
<span class="linenos" data-linenos="2 "></span>dadf725 oops - removed large tarball
<span class="linenos" data-linenos="3 "></span>7b30847 add git tarball
</code></pre></div>
<p>You must rewrite all the commits downstream from <code>7b30847</code> to fully remove this file from your Git history. To do so, you use <code>filter-branch</code>, which you used in Rewriting History:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ git filter-branch --index-filter \
<span class="linenos" data-linenos="2 "></span>  &#39;git rm --ignore-unmatch --cached git.tgz&#39; -- 7b30847^..
<span class="linenos" data-linenos="3 "></span>Rewrite 7b30847d080183a1ab7d18fb202473b3096e9f34 (1/2)rm &#39;git.tgz&#39;
<span class="linenos" data-linenos="4 "></span>Rewrite dadf7258d699da2c8d89b09ef6670edb7d5f91b4 (2/2)
<span class="linenos" data-linenos="5 "></span>Ref &#39;refs/heads/master&#39; was rewritten
</code></pre></div>
<p>The <code>--index-filter</code> option is similar to the <code>--tree-filter</code> option used in Rewriting History, except that instead of passing a command that modifies files checked out on disk, you’re modifying your staging area or index each time.</p>
<p>Rather than remove a specific file with something like <code>rm file</code>, you have to remove it with <code>git rm --cached</code> – you must remove it from the index, not from disk. The reason to do it this way is speed – because Git doesn’t have to check out each revision to disk before running your filter, the process can be much, much faster. You can accomplish the same task with <code>--tree-filter</code> if you want. The <code>--ignore-unmatch</code> option to <code>git rm</code> tells it not to error out if the pattern you’re trying to remove isn’t there. Finally, you ask <code>filter-branch</code> to rewrite your history only from the <code>7b30847</code> commit up, because you know that is where this problem started. Otherwise, it will start from the beginning and will unnecessarily take longer.</p>
<p>Your history no longer contains a reference to that file. However, your reflog and a new set of refs that Git added when you did the <code>filter-branch</code> under <code>.git/refs/original</code> still do, so you have to remove them and then repack the database. You need to get rid of anything that has a pointer to those old commits before you repack:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ rm -Rf .git/refs/original
<span class="linenos" data-linenos="2 "></span>$ rm -Rf .git/logs/
<span class="linenos" data-linenos="3 "></span>$ git gc
<span class="linenos" data-linenos="4 "></span>Counting objects: 15, done.
<span class="linenos" data-linenos="5 "></span>Delta compression using up to 8 threads.
<span class="linenos" data-linenos="6 "></span>Compressing objects: 100% (11/11), done.
<span class="linenos" data-linenos="7 "></span>Writing objects: 100% (15/15), done.
<span class="linenos" data-linenos="8 "></span>Total 15 (delta 1), reused 12 (delta 0)
</code></pre></div>
<p>Let’s see how much space you saved.</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos="1 "></span>$ git count-objects -v
<span class="linenos" data-linenos="2 "></span>count: 11
<span class="linenos" data-linenos="3 "></span>size: 4904
<span class="linenos" data-linenos="4 "></span>in-pack: 15
<span class="linenos" data-linenos="5 "></span>packs: 1
<span class="linenos" data-linenos="6 "></span>size-pack: 8
<span class="linenos" data-linenos="7 "></span>prune-packable: 0
<span class="linenos" data-linenos="8 "></span>garbage: 0
<span class="linenos" data-linenos="9 "></span>size-garbage: 0
</code></pre></div>
<p>The packed repository size is down to 8K, which is much better than 5MB. You can see from the size value that the big object is still in your loose objects, so it’s not gone; but it won’t be transferred on a push or subsequent clone, which is what is important. If you really wanted to, you could remove the object completely by running <code>git prune</code> with the <code>--expire</code> option:</p>
<div class="highlight"><pre><span></span><code><span class="linenos" data-linenos=" 1 "></span>$ git prune --expire now
<span class="linenos" data-linenos=" 2 "></span>$ git count-objects -v
<span class="linenos" data-linenos=" 3 "></span>count: 0
<span class="linenos" data-linenos=" 4 "></span>size: 0
<span class="linenos" data-linenos=" 5 "></span>in-pack: 15
<span class="linenos" data-linenos=" 6 "></span>packs: 1
<span class="linenos" data-linenos=" 7 "></span>size-pack: 8
<span class="linenos" data-linenos=" 8 "></span>prune-packable: 0
<span class="linenos" data-linenos=" 9 "></span>garbage: 0
<span class="linenos" data-linenos="10 "></span>size-garbage: 0
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" title="Back to top" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.top"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.d351de03.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.a1609d9a.min.js"></script>
      
    
  </body>
</html>